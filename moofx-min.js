/*
---
provides: moofx
version: 3.0.5-dev
description: A CSS3-enabled javascript animation library on caffeine
homepage: http://moofx.it
author: Valerio Proietti <@kamicane> (http://mad4milk.net)
license: MIT (http://mootools.net/license.txt)
includes: cubic-bezier by Arian Stolwijk (https://github.com/arian/cubic-bezier)
...
*/

(function(a){var b={},c=function(d){var e;if(e=b[d])return e.exports;e=b[d]={exports:{}};var f=e.exports;return a[d].call(f,c,e,f,window),e.exports};window.moofx=c("0")})({0:function(a,b){var e=a("1"),f=a("2"),g=typeof document!="undefined"?a("3"):{};g.requestFrame=f.request,g.cancelFrame=f.cancel,g.color=e,b.exports=g},1:function(a,b){var e={maroon:"#800000",red:"#ff0000",orange:"#ffA500",yellow:"#ffff00",olive:"#808000",purple:"#800080",fuchsia:"#ff00ff",white:"#ffffff",lime:"#00ff00",green:"#008000",navy:"#000080",blue:"#0000ff",aqua:"#00ffff",teal:"#008080",black:"#000000",silver:"#c0c0c0",gray:"#808080"},f=function(a,b,c,d){return d==null&&(d=1),a=parseInt(a,10),b=parseInt(b,10),c=parseInt(c,10),d=parseFloat(d),a<=255&&a>=0&&b<=255&&b>=0&&c<=255&&c>=0&&d<=1&&d>=0?[Math.round(a),Math.round(b),Math.round(c),d]:null},g=function(a){a.length===3&&(a+="f");if(a.length===4){var b=a.charAt(0),c=a.charAt(1),d=a.charAt(2),e=a.charAt(3);a=b+b+c+c+d+d+e+e}a.length===6&&(a+="ff");var f=[];for(var g=0,h=a.length;g<=h;g+=2)f.push(parseInt(a.substr(g,2),16)/(g===6?255:1));return f},h=function(a,b,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?a+(b-a)*6*c:c<.5?b:c<2/3?a+(b-a)*(2/3-c)*6:a},i=function(a,b,c,d){var e,f,g;d==null&&(d=1),a/=360,b/=100,c/=100,d/=1;if(a>1||a<0||b>1||b<0||c>1||c<0||d>1||d<0)return null;if(b===0)e=f=g=c;else{var i=c<.5?c*(1+b):c+b-c*b,j=2*c-i;e=h(j,i,a+1/3),g=h(j,i,a),f=h(j,i,a-1/3)}return[e*255,g*255,f*255,d]};b.exports=function(a,b){var c;if(typeof a!="string")return null;a=e[a=a.replace(/\s+/g,"")]||a;if(a.match(/^#[a-f0-9]{3,8}/))a=g(a.replace("#",""));else{if(!(c=a.match(/([\d.])+/g)))return null;if(a.match(/^rgb/))a=c;else{if(!a.match(/^hsl/))return null;a=i.apply(null,c)}}return!a||!(a=f.apply(null,a))?null:b?a:(a[3]===1&&a.splice(3,1),"rgb"+(a.length>3?"a":"")+"("+a+")")}},2:function(a,b,c,d){var e=[],f=!1,g=function(a){a==null&&(a=+(new Date)),f=!1;var b=e.length;while(b)e.splice(--b,1)[0](a)},h=d.requestAnimationFrame||d.webkitRequestAnimationFrame||d.mozRequestAnimationFrame||d.oRequestAnimationFrame||d.msRequestAnimationFrame||function(a){return setTimeout(a,1e3/60)};c.request=function(a){return e.push(a),f||(f=!0,h(g)),this},c.cancel=function(a){var b,c,d;for(b=0,c=e.length;b<c;b++){d=e[b];d===a&&e.splice(b,1)}return this}},3:function(a,b,c,d){var W,X,Y,Z,$,_,ba,bb,bc,bd,be,bf,bg,bh,e=a("4"),f=a("1"),g=a("2"),h=function(a,b){var c=function(){this.constructor=a},d=c.prototype=a.prototype;return b.prototype=new c,b.prototype.parent=d,b},i=g.cancel,j=g.request,k=String,l=parseFloat,m=function(a){return a.replace(/-\D/g,function(a){return a.charAt(1).toUpperCase()})},n=function(a){return a.replace(/[A-Z]/g,function(a){return"-"+a.charAt(0).toLowerCase()})},o=function(a){return k(a).replace(E," ").replace(/^\s+|\s+$/g,"")},p=Array.map||Array.prototype.map?function(a,b,c){return Array.prototype.map.call(a,b,c)}:function(a,b,c){var d=[];for(var e=0,f=a.length;e<f;e++)d.push(b.call(c,a[e],e,a));return d},q=Array.prototype.forEach?function(a,b,c){return Array.prototype.forEach.call(a,b,c),a}:function(a,b,c){for(var d=0,e=a.length;d<e;d++)b.call(c,a[d],d,a);return a},r=d.getComputedStyle?function(a){var b=getComputedStyle(a);return function(a){return b?b.getPropertyValue(n(a)):""}}:function(a){var b=a.currentStyle;return function(a){return b?b[m(a)]:""}},s=document.createElement("div"),t="border:none;margin:none;padding:none;visibility:hidden;position:absolute;height:0;",u=function(a,b){var c=a.parentNode,d=1;return c&&(s.style.cssText=t+("width:100"+b+";"),c.appendChild(s),d=s.offsetWidth/100,c.removeChild(s)),d},v=function(a){var b=a.length;return b===1?a.push(a[0],a[0],a[0]):b===2?a.push(a[0],a[1]):b===3&&a.push(a[1]),a},w=/(rgb[a]?\([-.\d,\s]+\))|(hsl[a]?\([-.\d,\s]+\))|(#[a-f0-9]{3,8})|(maroon|red|orange|yellow|olive|purple|fuchsia|white|lime|green|navy|blue|aqua|teal|black|silver|gray|transparent)/g,x=/([-.\d]+)(%|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vm)/g,y=/([-.\d]+)([\w%]+)?/,z=/([-.\d]+)([\w%]+)?/g,A=/none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset|inherit/,B=/cubic-bezier\(([-.\d]+),([-.\d]+),([-.\d]+),([-.\d]+)\)/,C=/cubic-bezier\(([-.\d,]+)\)/g,D=/([\d.]+)(s|ms)?/,E=/\s+/g,F=function(a){return a==null?"":a},G=function(a,b){return console.log(a),a==null||a===""?b?1:"":k(l(a))},H=function(a,b){if(a==null||a==="")return b?"rgba(0,0,0,1)":"";if(a=="transparent")return b?"rgba(0,0,0,0)":a;var c=f(a,b)||f("#000",b);return b?"rgba("+c+")":c},I=function(a,b,c){if(a==null||a==="")return b?"0px":"";var d=k(a).match(y);if(!d)return a;var a=l(d[1]),e=d[2]||"px";return a==0?a+e:c&&e!=="px"?u(c,e)*a+"px":a+e},J=function(a,b){if(a==null||a==="")return b?"none":"";var c=(a=o(a)).match(A);return c?a:""},K=function(a,b,c){var d="0px none rgba(0,0,0,1)";if(a==null||a==="")return b?d:"";if(a==0||a==="none")return b?d:a;var e;a=a.replace(w,function(a){return e=a,""});var f=a.match(A)||["none"],g=a.match(y)||["0"];return[I(g[0],b,c),f[0],H(e,b)].join(" ")},L=function(a,b,c){return v(p(o(a).split(" "),function(a){return I(a,b,c)})).join(" ")},M=function(a,b,c){var d="0px 0px 0px 0px rgba(0,0,0,0)";if(a==null||a==="")return b?d:"";if(a==="none")return b?d:a;var e=[],a=o(a).replace(w,function(a){return e.push(a),""});return p(a.split(","),function(a,d){var f=H(e[d],b),g=/inset/.test(a),h=a.match(z)||["0px"];h=p(h,function(a){return I(a,b,c)});while(h.length<4)h.push("0px");var i=g?["inset",f]:[f];return i.concat(h).join(" ")}).join(", ")},N=function(a,b,c){return a==null||a===""?"":a.replace(w,function(a){return H(a,b)}).replace(x,function(a){return I(a,b,c)})},O={},P={},Q={},R={},S=function(a){return O[a]||(O[a]=function(){var b=R[a]||a,c=Q[a]||N;return function(){return c(r(this)(b),!0,this)}}())},T=function(a){return P[a]||(P[a]=function(){var b=R[a]||a,c=Q[a]||N;return function(a){this.style[b]=c(a)}}())},U=["Top","Right","Bottom","Left"],V=["TopLeft","TopRight","BottomRight","BottomLeft"];q(U,function(a){var b="border"+a;q(["margin"+a,"padding"+a,b+"Width",a.toLowerCase()],function(a){Q[a]=I}),Q[b+"Color"]=H,Q[b+"Style"]=J,Q[b]=K,O[b]=function(){return[S(b+"Width").call(this),S(b+"Style").call(this),S(b+"Color").call(this)].join(" ")}}),q(V,function(a){Q["border"+a+"Radius"]=I}),Q.color=Q.backgroundColor=H,Q.width=Q.height=Q.fontSize=Q.backgroundSize=I,q(["margin","padding"],function(a){Q[a]=L,O[a]=function(){return p(U,function(b){return S(a+b).call(this)},this).join(" ")}}),Q.borderWidth=L,Q.borderStyle=function(a){return v(p(o(a).split(" "),J)).join(" ")},Q.borderColor=function(a,b){return v(N(a,b).split(" ")).join(" ")},q(["Width","Style","Color"],function(a){O["border"+a]=function(){return p(U,function(b){return S("border"+b+a).call(this)},this).join(" ")}}),Q.borderRadius=L,O.borderRadius=function(){return p(V,function(a){return S("border"+a+"Radius").call(this)},this).join(" ")},Q.border=K,O.border=function(){var a,b,c;for(b=0;b<U.length;b++){c=S("border"+U[b]).call(this);if(a&&c!==a)return null;a=c}return c},Q.zIndex=F;W=document.documentElement,X=W.style.MsFilter!=null?"MsFilter":W.style.filter!=null?"filter":null;Q.opacity=G,X&&W.style.opacity==null&&(matchOp=/alpha\(opacity=([\d.]+)\)/i,P.opacity=function(a){var b;a=(a=l(a)===1)?"":"alpha(opacity="+a*100+")";b=r(this)(X);return this.style[X]=matchOp.test(b)?b.replace(matchOp,a):b+a},O.opacity=function(){var a=r(this)(X).match(matchOp);return k(a?a[1]/100:1)}),Q.boxShadow=Q.textShadow=M;q(["WebkitTransition","MozTransition","transition"],function(a){W.style[a]!=null&&(Y=a)}),R.transition=Y;Z=Y==="MozTransition"?"transitionend":Y==="WebkitTransition"?"webkitTransitionEnd":"transitionEnd";q(["MozTransform","WebkitTransform","OTransform","msTransform","transform"],function(a){W.style[a]!=null&&(R.transform=a)});$={"default":"cubic-bezier(0.25, 0.1, 0.25, 1.0)",linear:"cubic-bezier(0, 0, 1, 1)","ease-in":"cubic-bezier(0.42, 0, 1.0, 1.0)","ease-out":"cubic-bezier(0, 0, 0.58, 1.0)","ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1.0)"};$.ease=$["default"];_=function(a,b){var c=S(b),d=T(b);this.get=function(){return c.call(a)},this.set=function(b){return d.call(a,b)},this.node=a,this.property=b,this.parse=Q[b]||N};_.prototype.setOptions=function(a){var b;a==null&&(a={});b=a.duration;if(!(this.duration=this.parseDuration(b||"500ms")))throw new Error(this.duration+" is not a valid duration");if(!(this.equation=this.parseEquation(a.equation||"default")))throw new Error(this.equation+" is not a valid equation");return this.callback=a.callback||function(){},this},_.prototype.prepare=function(a){var b,c,d,e,f,g;if(this.duration===0)return this.set(a),j(this.callback),null;b=this.node,c=this.parse,d=this.get(),e=c(a,!0);if(c===I||c===K||c===L){f=e.match(x),g=0;f&&(d=d.replace(x,function(a){var c=f[g++],d=a.match(y)[1],e=c.match(y)[2];return e!=="px"?d/u(b,e)+e:a})),g>0&&this.set(d)}return d===e?(j(this.callback),null):[d,e]},_.prototype.parseDuration=function(a){var b,c;if(a=k(a).match(D)){b=l(a[1]),c=a[2]||"ms";if(c==="s")return b*1e3;if(c==="ms")return b}return null},_.prototype.parseEquation=function(a){var b;a=$[a]||a;b=a.replace(E,"").match(B);return b?p(b.slice(1),l):null};ba=h(_,function(a,b){this.parent.constructor.call(this,a,b);var c=this;this.bstep=function(a){return c.step(a)}}),bb=function(a){var b=[],c=a.replace(/[-.\d]+/g,function(a){return b.push(l(a)),"@"});return[b,c]},bc=function(a,b,c){return(b-a)*c+a};ba.prototype.start=function(a){var d,e,b=this.prepare(a),c=this.parse;if(b){this.time=0;d=bb(b[0]),e=bb(b[1]);if(d[0].length!==e[0].length||(c===M||c===N)&&d[1]!==e[1])this.set(a),j(this.callback);this.from=d[0],this.to=e[0],this.template=e[1],j(this.bstep)}return this},ba.prototype.stop=function(){return i(this.bstep),this},ba.prototype.step=function(a){var b,c,d,e,f,g,h,i,k;this.time||(this.time=a);b=(a-this.time)/this.duration;b>1&&(b=1);c=this.equation(b),d=this.template,e=this.from,f=this.to;for(g=0,h=e.length;g<h;g++){i=e[g],k=f[g];d=d.replace("@",k!==i?bc(i,k,c):k)}this.set(d),b!==1?j(this.bstep):this.callback(a)},ba.prototype.parseEquation=function(a){var a=this.parent.parseEquation.call(this,a);return a==[0,0,1,1]?function(a){return a}:e(a[0],a[1],a[2],a[3],1e3/60/this.duration/4)};bd=h(_,function(a,b){this.parent.constructor.call(this,a,b);var c=this;this.bdefer=function(a){return c.defer(a)},this.bcomplete=function(a){return c.complete(a)},this.hproperty=n(R[b]||b)});bd.prototype.start=function(a){var b=this.prepare(a);return b&&(this.to=b[1],j(this.bdefer)),this},bd.prototype.stop=function(a){return this.running?(this.running=!1,a&&this.set(this.get()),this.clean()):i(this.bdefer),this},bd.prototype.defer=function(){return this.running=!0,this.modCSS(!0),this.node.addEventListener(Z,this.bcomplete,!1),this.set(this.to),null},bd.prototype.clean=function(){return this.modCSS(),this.node.removeEventListener(Z,this.bcomplete),null},bd.prototype.complete=function(a){return a&&a.propertyName===this.hproperty&&(this.running=!1,this.clean(),this.callback(+(new Date))),null};be=function(a,b,c,d){var e;for(var f=0,g=b.length;f<g;f++){if(b[f]!==a)continue;e=f;break}e!=null&&(b.splice(e,1),c.splice(e,1),d.splice(e,1))};bd.prototype.modCSS=function(a){var b=r(this.node),c=b(Y+"Property").replace(E,"").split(","),d=b(Y+"Duration").replace(E,"").split(","),e=b(Y+"TimingFunction").replace(E,"").match(C);be("all",c,d,e),be(this.hproperty,c,d,e),a&&(c.push(this.hproperty),d.push(this.duration),e.push(this.equation)),this.node.style[Y+"Property"]=c,this.node.style[Y+"Duration"]=d,this.node.style[Y+"TimingFunction"]=e},bd.prototype.parseDuration=function(a){return _.prototype.parseDuration.call(this,a)+"ms"},bd.prototype.parseEquation=function(a){return"cubic-bezier("+_.prototype.parseEquation.call(this,a)+")"};bf={uid:0,animations:{},retrieve:function(a,b){var c,d,e=(d=a["µid"])!=null?d:a["µid"]=(this.uid++).toString(36),f=(c=this.animations)[e]||(c[e]={});return f[b]||(f[b]=Y?new ba(a,b):new ba(a,b))},starts:function(a,b,c){c==null&&(c={});var d=typeof c;c=d==="function"?{callback:c}:d==="string"||d==="number"?{duration:c}:c;var e=c.callback||function(){},f=0,g=0;c.callback=function(a){++f===g&&e(a)};for(var h in b){var i=b[h],h=m(h);for(var j=0,k=a.length;j<k;j++)g++,this.retrieve(a[j],h).setOptions(c).start(i)}},start:function(a,b,c,d){var e={};return e[b]=c,this.starts(a,e,d)},sets:function(a,b){for(var c in b){var d=b[c],e=T(c=m(c));for(var f=0,g=a.length;f<g;f++){var h=a[f],i,j;(i=this.animations[h["µid"]])&&(j=i[c])&&j.stop(!0),e.call(h,d)}}return this},set:function(a,b,c){var d={};return d[b]=c,this.sets(a,d)}},bg=function(a){return this.valueOf=function(){return a},this},bh=function(a){return a?new bg(a.length!=null?a:a.nodeType===1?[a]:[]):null};bh.prototype=bg.prototype,bh.prototype.animate=function(a,b,c){return typeof a!="string"?bf.starts(this.valueOf(),a,b):bf.start(this.valueOf(),a,b,c),this},bh.prototype.style=function(a,b){return typeof a!="string"?bf.sets(this.valueOf(),a):bf.set(this.valueOf(),a,b),this},bh.prototype.compute=function(a){return S(m(a)).call(this.valueOf()[0])},bh.parse=function(a,b,c,d){return Q[a=m(a)]?Q[a](b,c,d):null},b.exports=bh},4:function(a,b){b.exports=function(a,b,c,d,e){var f=function(b){var d=1-b;return 3*d*d*b*a+3*d*b*b*c+b*b*b},g=function(a){var c=1-a;return 3*c*c*a*b+3*c*a*a*d+a*a*a},h=function(b){var d=1-b;return 3*(2*(b-1)*b+d*d)*a+3*(-b*b*b+2*d*b)*c};return function(a){var c,d,i,j,k,l,b=a;for(i=b,l=0;l<8;l++){j=f(i)-b;if(Math.abs(j)<e)return g(i);k=h(i);if(Math.abs(k)<1e-6)break;i-=j/k}c=0,d=1,i=b;if(i<c)return g(c);if(i>d)return g(d);while(c<d){j=f(i);if(Math.abs(j-b)<e)return g(i);b>j?c=i:d=i,i=(d-c)*.5+c}return g(i)}}}})